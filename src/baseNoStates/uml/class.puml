@startuml
skinparam classAttributeIconSize 0
' this is to use the standard notation for public, protected, private

class User {
- name : string
- credential : int
+ User(name:string, credential:int)
+ setCredential()
+ getName()
+ getCredential()
+ toString()
}



class Group{
    - typeGroup : string
    - users : vector<User>
    - schedules : Schedules
    - actions : vector <actions>
    - accesAreas: List<Area>


   + Group(typeGroup : string)
   + addUser(name:string, credential: int)
   + removeUser(credential : int)
   + addActions(permission : string)
   - removeActions(permission : string)

}


class Schedule{
    - workDays : ArrayList <DayOfWeek>
    - workHours : ArrayList <LocalTime>
    - workDate : ArrayList <LocalDate>

    + Schedule()
    + setAdmin()
    + setManager()
    + setEmployee()
    + setBlank()
    + addWorkDay(day:string)
    + removeWorkDay(day:string)
    + addHour (hour : int)
    + removeHour (hour: int)
    + editWorkDate ( newDate:LocalDate)

}


class Door{
    -id:string
    -close:boolean
    -status:DoorState
    -to:Area
    -from:Area

    +update(arg0:Observable, obj2:Object)
}

namespace doorState #DDDDDD{
    class States{
       +{static}LOCKED:String
       +{static}UNLOCKED:String
    }

    class Action{
        {static}OPEN:String
        {static}CLOSE:String
        {static}LOCK:String
        {static}UNLOCK:String
        {static}UNLOCK_SHORTLY:String
    }

    abstract DoorState{
        #door: Door
        #name: String
        {abstract}+setUnlock()
        {abstract}+setPropped()
        {abstract}+setLock()
        {abstract}+setUnlockShortly()
        {abstract}+setOpen()
        {abstract}+setClose()

    }

    class Unlocked extends DoorState{
        +setUnlock()
        +setPropped()
        +setLock()
        +setUnlockShortly()
        +setOpen()
        +setClose()

    }

    class UnlockedShortly extends DoorState implements Observer{
        +setUnlock()
        +setPropped()
        +setLock()
        +setUnlockShortly()
        +setOpen()
        +setClose()
    }

    class Propped extends DoorState{
        +setUnlock()
        +setPropped()
        +setLock()
        +setUnlockShortly()
        +setOpen()
        +setClose()
    }

    class Locked extends DoorState{
        +setUnlock()
        +setPropped()
        +setLock()
        +setUnlockShortly()
        +setOpen()
        +setClose()
    }
}


abstract Area{
    {abstract}+findAreaById(id:String): Area
    {abstract}+getDoorsGivingAcces(): Door[]
}

class Partition extends Area{
    -partitions:List<Partition>
    -areas:List<Area>

    +findAreaById(id:String): Area
}

 class Space Extends Area{
    -doorsList:List<Door>

    +getDoorsGivingAcces(): Door[]
}


abstract Observable{
    +addObserver(ob:Observer)
    +deleteObserver(ob:Observer)
    +setChanged()
    +notifyObserver(arg0:Observable, arg1:Object)
}

interface Observer{
    {abstract}+update(arg0:Observable, obj2:Object)
}


class ClockThread extends Observable implements Runnable{

    +ClockThread()
    +run()

}
interface Runnable{
    +run()
}



Group -left-> "n..1" Action : actions
Group -down-> "n..1" Schedule : schedules
Group -down-> "1..n"  User: users


Door --up->"1..n" Space: to
Door --up->"1..n" Space: from
Door -right-*"n..1" DoorState : status

Partition --right*"n..1" Partition : partition
Partition --down*"n..1" Area: areas

Space --down->"*" Door:doorsList

Group -->"*" Area: accesAreas

Observable o-right-> "observers *" Observer

Door ..Up.> Observer
@enduml